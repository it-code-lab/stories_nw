:root{
  --primary:#00E5FF;
  --accent:#FF3D7F;
  --bg:#0B0B0B;
  --ink:#e9eef5;
  --panel:#0f1217;
  --panel-border:#1b1f27;
  --font:Poppins,system-ui,Arial;
}
*{box-sizing:border-box}
html,body{height:100%}
body.player{
  margin:0;background:#0d0f12;color:var(--ink);font-family:var(--font);
  overflow:hidden;display:grid;grid-template-rows:auto 1fr auto;
}

/* Background layers */
.bg-layer{
  position:fixed; inset:0; width:100%; height:100%; object-fit:cover; z-index:-3; display:none;
}
#bgVideo.show, #bgImage.show { display:block; }
.bg-tint{ position:fixed; inset:0; background:linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.65)); z-index:-2; }

/* HUD */
.hud{
  display:flex; justify-content:space-between; align-items:center;
  padding:.8rem 1rem; background:rgba(15,18,23,.65); backdrop-filter: blur(6px);
  border-bottom:1px solid rgba(255,255,255,.06);
}
.title{font-weight:800; letter-spacing:.2px}
.counter{opacity:.85;margin-right:.6rem}
.pill{background:var(--accent); color:#000; padding:.2rem .6rem; border-radius:999px; font-weight:800}
.btn{padding:.55rem .9rem;border-radius:12px;border:1px solid #2a303b;background:#1b2130;color:#fff;font-weight:700;cursor:pointer}
.btn:hover{filter:brightness(1.05)}
.btn.ghost{background:transparent}
.btn.tiny{padding:.25rem .6rem;font-size:.85rem}

/* Main card */
.card{
  width:min(1100px, 92vw);
  height:min(78vh, 780px);
  margin:1.2rem auto; position:relative;
  display:flex; flex-direction:column; gap:.8rem;
  background:rgba(10,12,16,.55); border:1px solid rgba(255,255,255,.08);
  border-radius:24px; padding:1.2rem; backdrop-filter: blur(8px);
}
.question{font-size:1.6rem; font-weight:800}
.images{display:flex; gap:.6rem; flex-wrap:wrap}
.images img{max-height:28vh; border-radius:14px; border:1px solid rgba(255,255,255,.12)}
.options{display:grid; grid-template-columns:1fr 1fr; gap:.6rem}
.options .opt{
  border-radius:16px; border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.06); color:#fff; padding:.8rem 1rem; text-align:left;
  font-weight:700; cursor:pointer;
}
.options .opt.correct{background:rgba(21,255,170,.2); border-color:rgba(21,255,170,.55)}
.options .opt.dim{opacity:.5}

/* Footer / timers */
.footer{display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-top:auto}
.timer{display:flex; align-items:center; gap:.6rem}
.timer.ring{position:relative; width:56px; height:56px}
.ring-svg{position:absolute; inset:0}
.ring-bg{fill:none; stroke:rgba(255,255,255,.1); stroke-width:3}
.ring-bar{fill:none; stroke:var(--primary); stroke-width:3; stroke-linecap:round}
.time-num{font-weight:800; letter-spacing:.2px}

.timer.bar{position:relative; width:38vw; max-width:520px; height:18px; background:rgba(255,255,255,.08); border-radius:999px; border:1px solid rgba(255,255,255,.12)}
.bar-fill{height:100%; width:100%; background:var(--primary); border-radius:999px; transform-origin:left center; transform:scaleX(1)}
.hidden{display:none}

/* Explanation */
.explanation{
  margin-top:.6rem; padding:.8rem 1rem; border-radius:14px;
  background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12);
}

/* Bottom info bar */
.infobar{
  display:flex; justify-content:space-between; align-items:center;
  padding:.6rem 1rem; background:rgba(15,18,23,.65); border-top:1px solid rgba(255,255,255,.06);
}
.mode{display:flex; gap:.4rem}

/* Portrait helper (9:16) */
body.portrait .card{
  width:min(560px, 92vw);
  height:min(84vh, 880px);
}
body.portrait .options{ grid-template-columns:1fr; }
